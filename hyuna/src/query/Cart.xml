<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hyuna.dao.cart.CartDao">
	
	<!-- 장바구니 리스트 조회 -->
	<select id="cartList" resultType="cart">
		select img_1, prd_name, prd_saleprice from prd_img pi inner join prd_master pm on pi.prd_no = pm.prd_no
	</select>
	
	
	
	<!-- 장바구니 등록 -->
	<insert id="cartInsert" parameterType="cart">
		/* Cart - insertCart */
		<selectKey keyProperty="cart_no" resultType="int" order="BEFORE">
			select cart_seq.nextval from dual
		</selectKey>
			INSERT INTO CART
			  (
			    CART_NO,
			    CART_QUANTITY,
			    MEM_NO,
			    PRD_D_NO
			  )
			  VALUES
			  (
			    #{cart_no},
			    #{cart_quantity},
			    #{mem_no},
			    #{prd_d_no}
			  )
	</insert>
</mapper>